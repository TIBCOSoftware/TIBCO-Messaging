<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>TIBCO eFTL JavaScript Library</title>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">
    
    <h1 class="page-title">Class: eFTLConnection</h1>
    
    



<section>
    
<header>
    <h2>
    eFTLConnection
    </h2>
    
</header>  

<article>
    <div class="container-overview">
    
    
    
        
<dt>
    <h4 class="name" id="eFTLConnection"><span class="type-signature"></span>new eFTLConnection<span class="signature">()</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>A connection object represents a program's connection to an eFTL server.</p>
<p>The eFTL JavaScript library creates new instances of eFTLConnection internally.</p>
<p>Programs use connection objects to send messages, and subscribe to messages.</p>
<p>Programs receive connection objects through <a href="global.html#onConnect">onConnect</a>, <a href="global.html#onError">onError</a>, <a href="global.html#onDisconnect">onDisconnect</a>, 
and <a href="global.html#onReconnect">onReconnect</a> callbacks.</p>
    </div>
    

    
    
    
    
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
<!--     
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        eftl.js, line 1057
    </li></ul></dd>
     -->
    
    
    
    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="eFTL.html#connect">eFTL#connect</a></li>
        </ul>
    </dd>
    
    
    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

    
    </div>
    
    
    
    
    
    
    
    
    
    
    
    
    
    
        <h3 class="subsection-title">Methods</h3>
        
        <dl>
            
<dt>
    <h4 class="name" id="acknowledge"><span class="type-signature"></span>acknowledge<span class="signature">(message)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Acknowledge this message.</p>
<p>
Messages consumed from subscriptions with a client acknowledgment mode
must be explicitly acknowledged. The eFTL server will stop delivering
messages to the client once the server's configured maximum number of
unacknowledged messages is reached.
</p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>message</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>
            
            
            
            
            
            <td class="description last">The message being acknowledged.</td>
        </tr>
	
	
	</tbody>
</table>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
<!--     
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        eftl.js, line 1989
    </li></ul></dd>
     -->
    
    
    
    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="eFTLConnection.html#acknowledgeAll">eFTLConnection#acknowledgeAll</a></li>
        </ul>
    </dd>
    
    
    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="acknowledgeAll"><span class="type-signature"></span>acknowledgeAll<span class="signature">(message)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Acknowledge all messages up to and including this message.</p>
<p>
Messages consumed from subscriptions with a client acknowledgment mode
must be explicitly acknowledged. The eFTL server will stop delivering
messages to the client once the server's configured maximum number of
unacknowledged messages is reached.
</p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>message</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>
            
            
            
            
            
            <td class="description last">The message being acknowledged.</td>
        </tr>
	
	
	</tbody>
</table>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
<!--     
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        eftl.js, line 2006
    </li></ul></dd>
     -->
    
    
    
    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="eFTLConnection.html#acknowledge">eFTLConnection#acknowledge</a></li>
        </ul>
    </dd>
    
    
    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="closeAllSubscriptions"><span class="type-signature"></span>closeAllSubscriptions<span class="signature">()</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Close all subscriptions.</p>
<p>
For durable subscriptions, this call will cause the persistence
service to stop delivering messages while leaving the durable 
subscriptions to continue accumulating messages. Any unacknowledged
messages will be made available for redelivery.
    </div>
    

    
    
    
    
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
<!--     
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        eftl.js, line 1930
    </li></ul></dd>
     -->
    
    
    
    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="eFTLConnection.html#subscribe">eFTLConnection#subscribe</a></li>
        </ul>
    </dd>
    
    
    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="closeSubscription"><span class="type-signature"></span>closeSubscription<span class="signature">(subscriptionId)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Close a subscription.</p>
<p>
For durable subscriptions, this call will cause the persistence
service to stop delivering messages while leaving the durable 
subscription to continue accumulating messages. Any unacknowledged
messages will be made available for redelivery.
<p>Programs receive subscription identifiers via their <a href="global.html#onSubscribe">onSubscribe</a> handlers.</p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>subscriptionId</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>
            
            
            
            
            
            <td class="description last">Close this subscription.</td>
        </tr>
	
	
	</tbody>
</table>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
<!--     
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        eftl.js, line 1906
    </li></ul></dd>
     -->
    
    
    
    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="eFTLConnection.html#subscribe">eFTLConnection#subscribe</a></li>
        </ul>
    </dd>
    
    
    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="createKVMap"><span class="type-signature"></span>createKVMap<span class="signature">(name)</span><span class="type-signature"> &rarr; {<a href="eFTLKVMap.html">eFTLKVMap</a>}</span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        Create an <a href="eFTLKVMap.html">eFTLKVMap</a>.
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>name</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>
            
            
            
            
            
            <td class="description last">The key-value map name.</td>
        </tr>
	
	
	</tbody>
</table>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
<!--     
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        eftl.js, line 1138
    </li></ul></dd>
     -->
    
    
    
    
    
    
</dl>

    
    

    

    
    
    
    
    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    A new key-value map.
</div>



<dl>
	<dt>
		Type
	</dt>
	<dd>
		
<span class="param-type"><a href="eFTLKVMap.html">eFTLKVMap</a></span>


	</dd>
</dl>

        
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="createMessage"><span class="type-signature"></span>createMessage<span class="signature">()</span><span class="type-signature"> &rarr; {<a href="eFTLMessage.html">eFTLMessage</a>}</span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        Create an <a href="eFTLMessage.html">eFTLMessage</a>.
    </div>
    

    
    
    
    
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
<!--     
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        eftl.js, line 1128
    </li></ul></dd>
     -->
    
    
    
    
    
    
</dl>

    
    

    

    
    
    
    
    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    A new message.
</div>



<dl>
	<dt>
		Type
	</dt>
	<dd>
		
<span class="param-type"><a href="eFTLMessage.html">eFTLMessage</a></span>


	</dd>
</dl>

        
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="disconnect"><span class="type-signature"></span>disconnect<span class="signature">()</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Disconnect from the eFTL server.</p>
<p>Programs may disconnect to free server resources.</p>
<p>This call returns immediately; disconnecting continues asynchronously.
When the connection has closed, the eFTL library calls your <a href="global.html#onDisconnect">onDisconnect</a> callback.</p>
    </div>
    

    
    
    
    
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
<!--     
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        eftl.js, line 2184
    </li></ul></dd>
     -->
    
    
    
    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="global.html#onDisconnect">onDisconnect</a></li>
        </ul>
    </dd>
    
    
    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="getClientId"><span class="type-signature"></span>getClientId<span class="signature">()</span><span class="type-signature"> &rarr; {string}</span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Gets the client identifier for this connection.</p>
    </div>
    

    
    
    
    
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
<!--     
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        eftl.js, line 2017
    </li></ul></dd>
     -->
    
    
    
    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="eFTL.html#connect">eFTL#connect</a></li>
        </ul>
    </dd>
    
    
    
</dl>

    
    

    

    
    
    
    
    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    The unique client identifier.
</div>



<dl>
	<dt>
		Type
	</dt>
	<dd>
		
<span class="param-type">string</span>


	</dd>
</dl>

        
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="isConnected"><span class="type-signature"></span>isConnected<span class="signature">()</span><span class="type-signature"> &rarr; {boolean}</span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        Determine whether this connection to the eFTL server is open or closed.
    </div>
    

    
    
    
    
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
<!--     
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        eftl.js, line 1119
    </li></ul></dd>
     -->
    
    
    
    
    
    
</dl>

    
    

    

    
    
    
    
    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    <tt>true</tt> if this connection is open; <tt>false</tt> otherwise.
</div>



<dl>
	<dt>
		Type
	</dt>
	<dd>
		
<span class="param-type">boolean</span>


	</dd>
</dl>

        
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="publish"><span class="type-signature"></span>publish<span class="signature">(message, options)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Publish a one-to-many message to all subscribing clients.</p>
<p>This call returns immediately; publishing continues asynchronously.
When the publish completes successfully, the eFTL library calls your
<a href="global.html#onComplete">onComplete</a> callback.</p>
<p>
When communicating with EMS, to publish a messages on a specific EMS
destination include the message field name <code>_dest</code>.
To distinguish between topics and queues the destination can be prefixed with
either "TOPIC:" or "QUEUE:", for example "TOPIC:MyDest" or "QUEUE:MyDest". A 
destination with no prefix is a topic.
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>message</code></td>
            
            
            <td class="type">
            
                
<span class="param-type"><a href="eFTLMessage.html">eFTLMessage</a></span>


            
            </td>
            
            
            
            
            
            <td class="description last">Publish this message.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>options</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>
            
            
            
            
            
            <td class="description last">A JavaScript object holding publish callbacks.
                <h6>Properties</h6>
                

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		<th>Argument</th>
		
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>onComplete</code></td>
            
            
            <td class="type">
            
                
<span class="param-type"><a href="global.html#onComplete">onComplete</a></span>


            
            </td>
            
            
                <td class="attributes">
                
                    &lt;optional><br>
                
                    
                
                    
                
                </td>
            
            
            
            
            <td class="description last">Process publish completion.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>onError</code></td>
            
            
            <td class="type">
            
                
<span class="param-type"><a href="global.html#onError">onError</a></span>


            
            </td>
            
            
                <td class="attributes">
                
                    &lt;optional><br>
                
                    
                
                    
                
                </td>
            
            
            
            
            <td class="description last">Process publish errors.</td>
        </tr>
	
	
	</tbody>
</table>
            </td>
        </tr>
	
	
	</tbody>
</table>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
<!--     
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        eftl.js, line 2059
    </li></ul></dd>
     -->
    
    
    
    
    
    
</dl>

    
    

    

    
    
    
    
    
    
    
        <h5>Example</h5>
        
        <p class="code-caption">To publish a message on a specific EMS destination
add a string field to the message; for example:</p>
    
    <pre class="prettyprint"><code>message.set("_dest", "MyDest");</code></pre>

    
</dd>

        
            
<dt>
    <h4 class="name" id="reconnect"><span class="type-signature"></span>reconnect<span class="signature">()</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Reopen a closed connection.</p>

<p>You may call this method within your <a href="global.html#onDisconnect">onDisconnect</a> callback.</p>
<p>This call returns immediately; connecting continues asynchronously. When the connection
is ready to use, the eFTL library calls your <a href="global.html#onReconnect">onReconnect</a> callback.</p>
<p>Reconnecting automatically re-activates all subscriptions on the connection. The eFTL library
invokes your <a href="global.html#onSubscribe">onSubscribe</a> callback for each successful resubscription.
    </div>
    

    
    
    
    
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
<!--     
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        eftl.js, line 2169
    </li></ul></dd>
     -->
    
    
    
    
    
    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="removeKVMap"><span class="type-signature"></span>removeKVMap<span class="signature">(name)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Remove a key-value map.</p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>name</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>
            
            
            
            
            
            <td class="description last">The key-value map name.</td>
        </tr>
	
	
	</tbody>
</table>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
<!--     
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        eftl.js, line 1149
    </li></ul></dd>
     -->
    
    
    
    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="eFTLConnection.html#createKVMap">eFTLConnection#createKVMap</a></li>
        </ul>
    </dd>
    
    
    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="sendReply"><span class="type-signature"></span>sendReply<span class="signature">(reply, request, options)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Send a reply message in response to a request message.</p>
<p>This call returns immediately. When the send completes
successfully, the eFTL library calls your <a href="global.html#onComplete">onComplete</a> callback.</p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>reply</code></td>
            
            
            <td class="type">
            
                
<span class="param-type"><a href="eFTLMessage.html">eFTLMessage</a></span>


            
            </td>
            
            
            
            
            
            <td class="description last">The reply message to send.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>request</code></td>
            
            
            <td class="type">
            
                
<span class="param-type"><a href="eFTLMessage.html">eFTLMessage</a></span>


            
            </td>
            
            
            
            
            
            <td class="description last">The request message.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>options</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>
            
            
            
            
            
            <td class="description last">A JavaScript object holding request callbacks.
                <h6>Properties</h6>
                

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		<th>Argument</th>
		
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>onComplete</code></td>
            
            
            <td class="type">
            
                
<span class="param-type"><a href="global.html#onComplete">onComplete</a></span>


            
            </td>
            
            
                <td class="attributes">
                
                    &lt;optional><br>
                
                    
                
                    
                
                </td>
            
            
            
            
            <td class="description last">Process reply completion.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>onError</code></td>
            
            
            <td class="type">
            
                
<span class="param-type"><a href="global.html#onError">onError</a></span>


            
            </td>
            
            
                <td class="attributes">
                
                    &lt;optional><br>
                
                    
                
                    
                
                </td>
            
            
            
            
            <td class="description last">Process request errors.</td>
        </tr>
	
	
	</tbody>
</table>
            </td>
        </tr>
	
	
	</tbody>
</table>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
<!--     
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        eftl.js, line 2099
    </li></ul></dd>
     -->
    
    
    
    
    
    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="sendRequest"><span class="type-signature"></span>sendRequest<span class="signature">(request, timeout, options)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Publish a request message.</p>
<p>This call returns immediately. When the reply is received
the eFTL library calls your <a href="global.html#onReply">onReply</a> callback.</p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>request</code></td>
            
            
            <td class="type">
            
                
<span class="param-type"><a href="eFTLMessage.html">eFTLMessage</a></span>


            
            </td>
            
            
            
            
            
            <td class="description last">The request message to publish.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>timeout</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>
            
            
            
            
            
            <td class="description last">The number of milliseconds to wait for a reply.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>options</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>
            
            
            
            
            
            <td class="description last">A JavaScript object holding request callbacks.
                <h6>Properties</h6>
                

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		<th>Argument</th>
		
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>onReply</code></td>
            
            
            <td class="type">
            
                
<span class="param-type"><a href="global.html#onReply">onReply</a></span>


            
            </td>
            
            
                <td class="attributes">
                
                    &lt;optional><br>
                
                    
                
                    
                
                </td>
            
            
            
            
            <td class="description last">Process reply.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>onError</code></td>
            
            
            <td class="type">
            
                
<span class="param-type"><a href="global.html#onError">onError</a></span>


            
            </td>
            
            
                <td class="attributes">
                
                    &lt;optional><br>
                
                    
                
                    
                
                </td>
            
            
            
            
            <td class="description last">Process request errors.</td>
        </tr>
	
	
	</tbody>
</table>
            </td>
        </tr>
	
	
	</tbody>
</table>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
<!--     
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        eftl.js, line 2076
    </li></ul></dd>
     -->
    
    
    
    
    
    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="subscribe"><span class="type-signature"></span>subscribe<span class="signature">(options)</span><span class="type-signature"> &rarr; {object}</span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Subscribe to messages.</p>
<p>Register a subscription for one-to-many messages.</p>
<p>This call returns immediately; subscribing continues asynchronously. When the subscription is ready to
receive messages, the eFTL library calls your <a href="global.html#onSubscribe">onSubscribe</a> callback.</p>

<p>A matcher can narrow subscription interest in the inbound message stream.</p>
<p>
An acknowledgment mode for the subscription can be set to automatically acknowledge consumed
messages, require explicit client acknowledgment of the consumed messages, or to disable
message acknowledgment altogether. The default is to automatically acknowledge consumed messages.
<p>
When explicit client acknowledgment is specified the eFTL server will stop delivering messages 
to the client once the server's configured maximum number of unacknowledged messages is reached.
<p>
When communicating with EMS, to subscribe to messages published on a specific EMS
destination use a subscription matcher that includes the message field name <code>_dest</code>.
To distinguish between topics and queues the destination name can be prefixed with
either "TOPIC:" or "QUEUE:", for example "TOPIC:MyDest" or "QUEUE:MyDest". A destination name
with no prefix is a topic.
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>options</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>
            
            
            
            
            
            <td class="description last">A JavaScript object holding subscription callbacks.
                <h6>Properties</h6>
                

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		<th>Argument</th>
		
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>matcher</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>
            
            
                <td class="attributes">
                
                    &lt;optional><br>
                
                    
                
                    
                
                </td>
            
            
            
            
            <td class="description last">The subscription uses this content matcher to narrow the message stream.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>durable</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>
            
            
                <td class="attributes">
                
                    &lt;optional><br>
                
                    
                
                    
                
                </td>
            
            
            
            
            <td class="description last">The subscription is associated with this durable name.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>ack</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>
            
            
                <td class="attributes">
                
                    &lt;optional><br>
                
                    
                
                    
                
                </td>
            
            
            
            
            <td class="description last">An optional message acknowledgment mode; 'auto', 'client', or 'none'. Default is 'auto'.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>type</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>
            
            
                <td class="attributes">
                
                    &lt;optional><br>
                
                    
                
                    
                
                </td>
            
            
            
            
            <td class="description last">An optional durable type; 'shared' or 'last-value'.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>key</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>
            
            
                <td class="attributes">
                
                    &lt;optional><br>
                
                    
                
                    
                
                </td>
            
            
            
            
            <td class="description last">The key field for 'last-value' durable subscriptions.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>onSubscribe</code></td>
            
            
            <td class="type">
            
                
<span class="param-type"><a href="global.html#onSubscribe">onSubscribe</a></span>


            
            </td>
            
            
                <td class="attributes">
                
                    &lt;optional><br>
                
                    
                
                    
                
                </td>
            
            
            
            
            <td class="description last">The new subscription is ready.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>onError</code></td>
            
            
            <td class="type">
            
                
<span class="param-type"><a href="global.html#onError">onError</a></span>


            
            </td>
            
            
                <td class="attributes">
                
                    &lt;optional><br>
                
                    
                
                    
                
                </td>
            
            
            
            
            <td class="description last">Process subscription errors.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>onMessage</code></td>
            
            
            <td class="type">
            
                
<span class="param-type"><a href="global.html#onMessage">onMessage</a></span>


            
            </td>
            
            
                <td class="attributes">
                
                    &lt;optional><br>
                
                    
                
                    
                
                </td>
            
            
            
            
            <td class="description last">Process inbound messages</td>
        </tr>
	
	
	</tbody>
</table>
            </td>
        </tr>
	
	
	</tbody>
</table>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
<!--     
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        eftl.js, line 1888
    </li></ul></dd>
     -->
    
    
    
    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="eFTLConnection.html#unsubscribe">eFTLConnection#unsubscribe</a></li>
        
            <li><a href="eFTLConnection.html#closeSubscription">eFTLConnection#closeSubscription</a></li>
        
            <li><a href="eFTLConnection.html#acknowledge">eFTLConnection#acknowledge</a></li>
        
            <li><a href="eFTLConnection.html#acknowledgeAll">eFTLConnection#acknowledgeAll</a></li>
        </ul>
    </dd>
    
    
    
</dl>

    
    

    

    
    
    
    
    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    The subscription identifier.
</div>



<dl>
	<dt>
		Type
	</dt>
	<dd>
		
<span class="param-type">object</span>


	</dd>
</dl>

        
    
    
        <h5>Example</h5>
        
        <p class="code-caption">To subscribe to messages published on a specific EMS destination,
create a subscription matcher for that destination;
for example:</p>
    
    <pre class="prettyprint"><code>var matcher = '{"_dest":"MyDest"}';</code></pre>

    
</dd>

        
            
<dt>
    <h4 class="name" id="unsubscribe"><span class="type-signature"></span>unsubscribe<span class="signature">(subscriptionId)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Unsubscribe from messages on a subscription.</p>
<p>
For durable subscriptions, this call will cause the persistence
service to remove the durable subscription, along with any
persisted messages. 
<p>Programs receive subscription identifiers via their <a href="global.html#onSubscribe">onSubscribe</a> handlers.</p>
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>subscriptionId</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>
            
            
            
            
            
            <td class="description last">Close this subscription.</td>
        </tr>
	
	
	</tbody>
</table>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
<!--     
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        eftl.js, line 1950
    </li></ul></dd>
     -->
    
    
    
    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="eFTLConnection.html#subscribe">eFTLConnection#subscribe</a></li>
        </ul>
    </dd>
    
    
    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="unsubscribeAll"><span class="type-signature"></span>unsubscribeAll<span class="signature">()</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        <p>Unsubscribe from messages on all subscriptions.</p>
<p>
For durable subscriptions, this call will cause the persistence
service to remove the durable subscription, along with any
persisted messages.
    </div>
    

    
    
    
    
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
<!--     
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        eftl.js, line 1968
    </li></ul></dd>
     -->
    
    
    
    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="eFTLConnection.html#subscribe">eFTLConnection#subscribe</a></li>
        </ul>
    </dd>
    
    
    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        </dl>
    
    
    
    
    
</article>

</section>  




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="eFTLConnection.html">eFTLConnection</a></li><li><a href="eFTLKVMap.html">eFTLKVMap</a></li><li><a href="eFTLMessage.html">eFTLMessage</a></li></ul><h3>Namespaces</h3><ul><li><a href="eFTL.html">eFTL</a></li></ul><h3><a href="global.html">Global</a></h3>
</nav>

<br class="clear">

<footer>
    &copy;2014-2020 TIBCO Software Inc - All Rights Reserved.
</footer>


</body>
</html>